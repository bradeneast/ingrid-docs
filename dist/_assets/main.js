(()=>{var v=class{constructor({onload:r=null,selector:m,cacheLimit:E,transitioningAttribute:c,preserveScroll:H=!1,preserveAttributes:y=!1}={}){m=m||`a[href^='${window.location.origin}']:not([data-no-schwifty]), a[href^='/']:not([data-no-schwifty])`,E=E||85,c=c||"data-schwifty";let b=y===!0;typeof y!="object"&&(y={documentElement:b,head:b,body:b});let f="schwifty-preload",u='link[rel="stylesheet"]',s=document,h=s.documentElement,g="innerHTML",d=new Map,j=new IntersectionObserver((e,t)=>e.forEach(p=>{let $=p.isIntersecting,w=p.target.href;!$&&$!=null||(d.size>=E&&d.delete(d.keys()[0]),d.get(w)?t.unobserve(p.target):G(w))}),{threshold:.5}),T=(e,t=s)=>t.querySelector(e),S=(e,t=s)=>t.querySelectorAll(e),x=e=>e.target.closest(m)||{},L=()=>S(m).forEach(e=>j.observe(e)),i=(e,t=window)=>t.dispatchEvent(new Event(e)),M=e=>e.replace(/m?s/gi,""),q=()=>{let e=getComputedStyle(h);return(M(e.transitionDelay)+M(e.transitionDuration))*1e3},G=e=>{if(!e)return;let t=new XMLHttpRequest;t.onreadystatechange=function(){this.status==200&&d.set(e,t.responseXML)},t.open("GET",e,!0),t.responseType="document",t.send()},C=e=>{let t=d.get(e);if(!t){location=e;return}history.replaceState(null,null,e),S(`${u}:not(.${f})`).forEach(o=>{let a=o.href.replace(location.origin,""),n=T(`${u}.${f}[href="${a}"]`),D=T(`${u}[href="${a}"]`,t);D&&!n&&(o.classList.add(f),h.append(o)),!D&&n&&n.remove()});let p=`${u}:not(.${f})`,$=`${u}.${f}`,w=S(p,t),J=S($);for(let o of J)Array.from(w).some(a=>a.href==o.href)||o.remove();["body","head","documentElement"].forEach(o=>{if(y[o])return;let a=s[o];for(let n of a.attributes)a.removeAttribute(n.name);for(let n of t[o].attributes)a.setAttribute(n.name,n.value)}),h.setAttribute(c,"out"),i("pagehide"),i("unload"),setTimeout(()=>{s.body[g]=t.body[g],s.head[g]=t.head[g],h.setAttribute(c,"in"),i("DOMContentLoaded",s),H||scrollTo(0,0),r&&(r.length?r.map(o=>o()):r()),L(),setTimeout(()=>h.removeAttribute(c),q()),i("load"),i("pageshow")},q())};L(),addEventListener("popstate",()=>C(location.href)),addEventListener("click",e=>{let t=x(e).href;t&&(e.preventDefault(),i("beforeunload"),history.pushState(null,null,location.href),C(t))})}},A=v;var R=(l,r=document)=>r.querySelector(l),X=(l,r=document)=>r.querySelectorAll(l),k=(l,r)=>r==null?JSON.parse(localStorage.getItem(l)):localStorage.setItem(l,JSON.stringify(r)),I=(l,r)=>document.documentElement.classList.toggle(l,r);function O(){I("dark",k("dark")),R("#theme-toggle").addEventListener("click",()=>{let l=k("dark");I("dark",!l),k("dark",!l)}),X("nav a").forEach(l=>{l.href==location.href&&l.setAttribute("aria-current",!0)})}O();new A({onload:O,preserveAttributes:!0});})();
